[gd_scene load_steps=12 format=3 uid="uid://mq0wb5hf2lra"]

[ext_resource type="Script" uid="uid://dlns6x22rucix" path="res://src/scripts/mines.gd" id="1_5ay12"]
[ext_resource type="PackedScene" uid="uid://dji7xejgxhg1e" path="res://src/scenes/mines/harvestables/harvestables_layer.tscn" id="2_1bjje"]
[ext_resource type="PackedScene" uid="uid://bd1ftd4mp5yyb" path="res://src/scenes/mines/floor.tscn" id="2_hxspv"]
[ext_resource type="Resource" uid="uid://b715n73g612e0" path="res://src/resources/levels_types.tres" id="2_wonyy"]
[ext_resource type="PackedScene" uid="uid://d1i8mon4i40ff" path="res://src/scenes/mines/player/player.tscn" id="2_wu3x7"]
[ext_resource type="PackedScene" uid="uid://twpug1ofoh0v" path="res://src/scenes/mines/minion_spawner.tscn" id="5_gxwpu"]
[ext_resource type="PackedScene" uid="uid://2d3n31s7uoax" path="res://src/scenes/composables/timeout_callback.tscn" id="6_fr8mr"]
[ext_resource type="PackedScene" uid="uid://otk24p2k4751" path="res://src/scenes/background.tscn" id="7_kcaqh"]
[ext_resource type="Shader" uid="uid://cebiqw3agqr6t" path="res://src/shader/background.gdshader" id="8_08kq8"]
[ext_resource type="PackedScene" uid="uid://babtp57ucb8t0" path="res://src/scenes/mines/level_complete.tscn" id="8_o46uw"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gxwpu"]
resource_local_to_scene = true
shader = ExtResource("8_08kq8")
shader_parameter/polar_coordinates = false
shader_parameter/polar_center = Vector2(0.5, 0.5)
shader_parameter/polar_zoom = 1.0
shader_parameter/polar_repeat = 1.0
shader_parameter/spin_rotation = 0.0
shader_parameter/spin_speed = 1.0
shader_parameter/offset = Vector2(0, 0)
shader_parameter/colour_1 = Color(0.298039, 0.298039, 0.298039, 1)
shader_parameter/colour_2 = Color(0.964706, 0.803922, 0.14902, 1)
shader_parameter/colour_3 = Color(0.447059, 0.34902, 0.337255, 1)
shader_parameter/contrast = 2.0
shader_parameter/lighting = 0.4
shader_parameter/spin_amount = 0.36
shader_parameter/pixel_filter = 700.0

[node name="Mines" type="Node2D" node_paths=PackedStringArray("player", "harvestable_layer", "floor_layer") groups=["current_mines"]]
script = ExtResource("1_5ay12")
player = NodePath("YSorted/Player")
harvestable_layer = NodePath("YSorted/HarvestabelsLayer")
floor_layer = NodePath("Floor")
levels = ExtResource("2_wonyy")
metadata/_edit_horizontal_guides_ = [-104.0]

[node name="Floor" parent="." instance=ExtResource("2_hxspv")]

[node name="YSorted" type="Node2D" parent="."]
y_sort_enabled = true

[node name="HarvestabelsLayer" parent="YSorted" node_paths=PackedStringArray("floor_layer") instance=ExtResource("2_1bjje")]
floor_layer = NodePath("../../Floor")

[node name="Drops" type="Node2D" parent="YSorted"]
y_sort_enabled = true

[node name="MinionSpawner" parent="YSorted" node_paths=PackedStringArray("_player") instance=ExtResource("5_gxwpu")]
_player = NodePath("../Player")

[node name="Player" parent="YSorted" instance=ExtResource("2_wu3x7")]
y_sort_enabled = true
position = Vector2(16, 0)

[node name="TimeoutCallback" parent="." instance=ExtResource("6_fr8mr")]

[node name="Background" parent="." instance=ExtResource("7_kcaqh")]
material = SubResource("ShaderMaterial_gxwpu")
offset_left = -505.0
offset_top = -284.0
offset_right = 505.0
offset_bottom = 284.0
mode = 1

[node name="LevelComplete" parent="." instance=ExtResource("8_o46uw")]

[connection signal="emptyed" from="YSorted/HarvestabelsLayer" to="." method="_on_harvestabels_layer_emptyed"]
[connection signal="died" from="YSorted/Player" to="." method="_on_player_died"]
