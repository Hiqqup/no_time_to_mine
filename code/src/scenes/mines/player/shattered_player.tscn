[gd_scene load_steps=14 format=3 uid="uid://da65q5tsirhh5"]

[ext_resource type="Texture2D" uid="uid://dvmbkh5nfrj13" path="res://assets/visuals/procreate/tileset.png" id="1_4o027"]
[ext_resource type="Script" uid="uid://b8bfj6o6s64pn" path="res://src/scripts/shattered_player.gd" id="1_ncb65"]
[ext_resource type="Texture2D" uid="uid://cnm4npohe58b1" path="res://assets/visuals/procreate/Player/die_animation/Char-5.png" id="1_pl7v7"]
[ext_resource type="PackedScene" uid="uid://c2igyp8fdxcft" path="res://src/scenes/composables/grid_vector_to_position_converter.tscn" id="2_2sogt"]
[ext_resource type="Texture2D" uid="uid://cb0rl6xjcloea" path="res://assets/visuals/procreate/Player/die_animation/Char-4.png" id="2_ncb65"]
[ext_resource type="Texture2D" uid="uid://bej0j8p2up5xb" path="res://assets/visuals/procreate/Player/die_animation/Char-3.png" id="3_2sogt"]
[ext_resource type="Texture2D" uid="uid://3f1kmtgt1p6" path="res://assets/visuals/procreate/Player/die_animation/Char-2.png" id="4_mx2cm"]
[ext_resource type="Texture2D" uid="uid://vwhjg33tprtt" path="res://assets/visuals/procreate/Player/die_animation/Char-1.png" id="5_sjho2"]
[ext_resource type="Texture2D" uid="uid://xl5i2g5ngohm" path="res://assets/visuals/procreate/recolored/tileset_sulphur.png" id="9_mx2cm"]
[ext_resource type="AudioStream" uid="uid://dy4kqe4x4d6kl" path="res://assets/sound/harvestable_destoryed.ogg" id="10_sjho2"]
[ext_resource type="AudioStream" uid="uid://ersg3bqkqlgl" path="res://assets/sound/rock_destroyed_player_reversed.ogg" id="11_y830j"]

[sub_resource type="SpriteFrames" id="SpriteFrames_y830j"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_sjho2")
}],
"loop": true,
"name": &"alive",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_pl7v7")
}],
"loop": true,
"name": &"dead",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_pl7v7")
}, {
"duration": 1.0,
"texture": ExtResource("2_ncb65")
}, {
"duration": 1.0,
"texture": ExtResource("3_2sogt")
}, {
"duration": 1.0,
"texture": ExtResource("4_mx2cm")
}, {
"duration": 1.0,
"texture": ExtResource("5_sjho2")
}],
"loop": true,
"name": &"reverse_die",
"speed": 5.0
}]

[sub_resource type="Curve2D" id="Curve2D_2sogt"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -28, 0, 0, 0, 0, -21, -42, 0, 0, 0, 0, -41, -46, 0, 0, 0, 0, -49, -40, 0, 0, 0, 0, -65, -31, 0, 0, 0, 0, -74, -32, 0, 0, 0, 0, -87, -37, 0, 0, 0, 0, -101, -50, 0, 0, 0, 0, -118, -55, 0, 0, 0, 0, -142, -41, 0, 0, 0, 0, -165, -42, 0, 0, 0, 0, -175, -57, 0, 0, 0, 0, -192, -79, 0, 0, 0, 0, -215, -74, 0, 0, 0, 0, -228, -65, 0, 0, 0, 0, -239, -64, 0, 0, 0, 0, -248, -69, 0, 0, 0, 0, -258, -74, 0, 0, 0, 0, -264, -74, 0, 0, 0, 0, -280, -64, 0, 0, 0, 0, -287, -55, 0, 0, 0, 0, -310, -54, 0, 0, 0, 0, -325, -59, 0, 0, 0, 0, -335, -71, 0, 0, 0, 0, -345, -80, 0, 0, 0, 0, -358, -93, 0, 0, 0, 0, -394, -90, 0, 0, 0, 0, -410, -75, 0, 0, 0, 0, -417, -64, 0, 0, 0, 0, -433, -54, 0, 0, 0, 0, -453, -53, 0, 0, 0, 0, -470, -66, 0, 0, 0, 0, -473, -74)
}
point_count = 34

[node name="ShatteredPlayer" type="Node2D"]
z_index = 1
script = ExtResource("1_ncb65")
_grid_vector_setter_scene = ExtResource("2_2sogt")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(0, -9)
sprite_frames = SubResource("SpriteFrames_y830j")
animation = &"reverse_die"

[node name="Shards" type="Node2D" parent="."]

[node name="Shard6" type="Sprite2D" parent="Shards"]
position = Vector2(3.5, 3)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(328, 53, 7, 6)

[node name="Shard7" type="Sprite2D" parent="Shards"]
position = Vector2(2.5, -4.5)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(328, 46, 5, 5)

[node name="Shard5" type="Sprite2D" parent="Shards"]
position = Vector2(-4, 3)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(321, 53, 6, 6)

[node name="Shard" type="Sprite2D" parent="Shards"]
position = Vector2(-8, 2)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(296, 53, 4, 4)

[node name="Shard2" type="Sprite2D" parent="Shards"]
position = Vector2(-0.5, 3.5)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(303, 54, 5, 5)

[node name="Shard3" type="Sprite2D" parent="Shards"]
position = Vector2(7, 2)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(310, 52, 6, 6)

[node name="Shard4" type="Sprite2D" parent="Shards"]
position = Vector2(-1.5, -4.5)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(301, 45, 7, 7)

[node name="Shard8" type="Sprite2D" parent="Shards"]
position = Vector2(-5.5, -1)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(338, 48, 7, 8)

[node name="Shard9" type="Sprite2D" parent="Shards"]
position = Vector2(4, -1.5)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(347, 48, 8, 7)

[node name="Shard10" type="Sprite2D" parent="Shards"]
position = Vector2(-0.5, -0.5)
texture = ExtResource("1_4o027")
region_enabled = true
region_rect = Rect2(361, 49, 5, 5)

[node name="Path2D3" type="Path2D" parent="."]
curve = SubResource("Curve2D_2sogt")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D3"]
position = Vector2(-473, -74)
rotation = -1.92957
progress = 592.803

[node name="SpiritParticles" type="CPUParticles2D" parent="Path2D3/PathFollow2D"]
rotation = -0.872664
scale = Vector2(0.994154, 1.00358)
emitting = false
amount = 32
lifetime = 0.5
lifetime_randomness = 1.0
spread = 180.0
gravity = Vector2(0, 0)
initial_velocity_min = 20.0
initial_velocity_max = 40.0
angular_velocity_min = -80.0
angular_velocity_max = 80.0
scale_amount_max = 2.0

[node name="probe" type="Sprite2D" parent="."]
visible = false
position = Vector2(0, 5)
texture = ExtResource("9_mx2cm")
region_enabled = true
region_rect = Rect2(132, 11, 31, 20)

[node name="ShardReclaimed" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_sjho2")
volume_db = -10.0

[node name="ReverseDie" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_y830j")
volume_db = -10.0
